import gmsh

gmsh.initialize()

# general settings
gmsh.option.setNumber("General.Terminal", 1)
# gmsh.option.setNumber("Mesh.Algorithm", 8) # quads
# gmsh.option.setNumber("Mesh.RecombineAll", 1)
gmsh.option.setNumber("Mesh.SaveAll", 1)

lc1 = 0.5
lc2 = 0.001

a = gmsh.model.geo.add_point(-10, -5, 0, lc1)
b = gmsh.model.geo.add_point(11, -5, 0, lc1)
c = gmsh.model.geo.add_point(11, 5, 0, lc1)
d = gmsh.model.geo.add_point(-10, 5, 0, lc1)

line_a = gmsh.model.geo.add_line(a, b)
line_b = gmsh.model.geo.add_line(b, c)
line_c = gmsh.model.geo.add_line(c, d)
line_d = gmsh.model.geo.add_line(d, a)

coordinates = [
    [+1.0000000000000000e+000, +0.0000000000000000e+000],
    [+9.9199000000000004e-001, -1.3209999999999999e-003],
    [+9.8340000000000005e-001, -2.7246000000000002e-003],
    [+9.7423999999999999e-001, -4.2063999999999999e-003],
    [+9.6453999999999995e-001, -5.7619000000000004e-003],
    [+9.5430999999999999e-001, -7.3866000000000001e-003],
    [+9.4355999999999995e-001, -8.9133000000000007e-003],
    [+9.3230000000000002e-001, -1.0378999999999999e-002],
    [+9.2056000000000004e-001, -1.1886000000000001e-002],
    [+9.0834999999999999e-001, -1.3433000000000000e-002],
    [+8.9568999999999999e-001, -1.5013000000000000e-002],
    [+8.8258999999999999e-001, -1.6622999999999999e-002],
    [+8.6907999999999996e-001, -1.8258000000000000e-002],
    [+8.5518000000000005e-001, -1.9914999999999999e-002],
    [+8.4091000000000005e-001, -2.1588000000000000e-002],
    [+8.2628000000000001e-001, -2.3274000000000000e-002],
    [+8.1132000000000004e-001, -2.4969000000000002e-002],
    [+7.9605000000000004e-001, -2.6668000000000001e-002],
    [+7.8047999999999995e-001, -2.8368000000000001e-002],
    [+7.6465000000000005e-001, -3.0062999999999999e-002],
    [+7.4858000000000002e-001, -3.1751000000000001e-002],
    [+7.3228000000000004e-001, -3.3426999999999998e-002],
    [+7.1577999999999997e-001, -3.5085999999999999e-002],
    [+6.9910000000000005e-001, -3.6726000000000002e-002],
    [+6.8227000000000004e-001, -3.8342000000000001e-002],
    [+6.6530000000000000e-001, -3.9928999999999999e-002],
    [+6.4822000000000002e-001, -4.1485000000000001e-002],
    [+6.3105999999999995e-001, -4.3004000000000001e-002],
    [+6.1382000000000003e-001, -4.4482000000000001e-002],
    [+5.9655000000000002e-001, -4.5915999999999998e-002],
    [+5.7925000000000004e-001, -4.7301999999999997e-002],
    [+5.6194999999999995e-001, -4.8634999999999998e-002],
    [+5.4468000000000005e-001, -4.9911999999999998e-002],
    [+5.2744000000000002e-001, -5.1128000000000000e-002],
    [+5.1027000000000000e-001, -5.2280000000000000e-002],
    [+4.9319000000000002e-001, -5.3365000000000003e-002],
    [+4.7621000000000002e-001, -5.4378000000000003e-002],
    [+4.5934999999999998e-001, -5.5316999999999998e-002],
    [+4.4263999999999998e-001, -5.6177999999999999e-002],
    [+4.2609000000000002e-001, -5.6958000000000002e-002],
    [+4.0971999999999997e-001, -5.7653999999999997e-002],
    [+3.9354000000000000e-001, -5.8264000000000003e-002],
    [+3.7758000000000003e-001, -5.8785999999999998e-002],
    [+3.6185000000000000e-001, -5.9218000000000000e-002],
    [+3.4637000000000001e-001, -5.9558000000000000e-002],
    [+3.3115000000000000e-001, -5.9804999999999997e-002],
    [+3.1619999999999998e-001, -5.9957999999999997e-002],
    [+3.0153000000000002e-001, -6.0017000000000001e-002],
    [+2.8717999999999999e-001, -5.9979999999999999e-002],
    [+2.7312999999999998e-001, -5.9850000000000000e-002],
    [+2.5940000000000002e-001, -5.9624999999999997e-002],
    [+2.4601000000000001e-001, -5.9306999999999999e-002],
    [+2.3296000000000000e-001, -5.8896999999999998e-002],
    [+2.2026000000000001e-001, -5.8397999999999999e-002],
    [+2.0791999999999999e-001, -5.7810000000000000e-002],
    [+1.9595000000000001e-001, -5.7135999999999999e-002],
    [+1.8435000000000001e-001, -5.6377999999999998e-002],
    [+1.7313000000000001e-001, -5.5539999999999999e-002],
    [+1.6228999999999999e-001, -5.4625000000000000e-002],
    [+1.5182999999999999e-001, -5.3636000000000003e-002],
    [+1.4176000000000000e-001, -5.2575999999999998e-002],
    [+1.3208000000000000e-001, -5.1450000000000003e-002],
    [+1.2279000000000000e-001, -5.0261000000000000e-002],
    [+1.1389000000000001e-001, -4.9013000000000001e-002],
    [+1.0538000000000000e-001, -4.7711000000000003e-002],
    [+9.7255999999999995e-002, -4.6358000000000003e-002],
    [+8.9519000000000001e-002, -4.4958999999999999e-002],
    [+8.2165000000000002e-002, -4.3519000000000002e-002],
    [+7.5189000000000006e-002, -4.2041000000000002e-002],
    [+6.8587999999999996e-002, -4.0529999999999997e-002],
    [+6.2356000000000002e-002, -3.8989999999999997e-002],
    [+5.6487000000000002e-002, -3.7425000000000000e-002],
    [+5.0973999999999998e-002, -3.5839999999999997e-002],
    [+4.5809999999999997e-002, -3.4237999999999998e-002],
    [+4.0987999999999997e-002, -3.2624000000000000e-002],
    [+3.6498999999999997e-002, -3.1001000000000001e-002],
    [+3.2333000000000001e-002, -2.9373000000000000e-002],
    [+2.8482000000000000e-002, -2.7744000000000001e-002],
    [+2.4936000000000000e-002, -2.6116000000000000e-002],
    [+2.1683000000000001e-002, -2.4494999999999999e-002],
    [+1.8714000000000001e-002, -2.2882000000000000e-002],
    [+1.6017000000000000e-002, -2.1281000000000001e-002],
    [+1.3580000000000000e-002, -1.9694000000000000e-002],
    [+1.1391999999999999e-002, -1.8124999999999999e-002],
    [+9.4412000000000003e-003, -1.6577000000000001e-002],
    [+7.7146000000000003e-003, -1.5051000000000000e-002],
    [+6.1999999999999998e-003, -1.3550000000000000e-002],
    [+4.8849999999999996e-003, -1.2076000000000000e-002],
    [+3.7567999999999998e-003, -1.0632000000000001e-002],
    [+2.8031000000000002e-003, -9.2178999999999994e-003],
    [+2.0111000000000000e-003, -7.8358999999999998e-003],
    [+1.3686000000000000e-003, -6.4863999999999998e-003],
    [+8.6341000000000000e-004, -5.1690000000000000e-003],
    [+4.8376000000000002e-004, -3.8815000000000000e-003],
    [+2.1870000000000000e-004, -2.6178999999999998e-003],
    [+5.8739999999999997e-005, -1.3609000000000000e-003],
    [+0.0000000000000000e+000, +0.0000000000000000e+000],
    [+5.8739999999999997e-005, +1.3609000000000000e-003],
    [+2.1870000000000000e-004, +2.6178999999999998e-003],
    [+4.8376000000000002e-004, +3.8815000000000000e-003],
    [+8.6341000000000000e-004, +5.1690000000000000e-003],
    [+1.3686000000000000e-003, +6.4863999999999998e-003],
    [+2.0111000000000000e-003, +7.8358999999999998e-003],
    [+2.8031000000000002e-003, +9.2178999999999994e-003],
    [+3.7567999999999998e-003, +1.0632000000000001e-002],
    [+4.8849999999999996e-003, +1.2076000000000000e-002],
    [+6.1999999999999998e-003, +1.3550000000000000e-002],
    [+7.7146000000000003e-003, +1.5051000000000000e-002],
    [+9.4412000000000003e-003, +1.6577000000000001e-002],
    [+1.1391999999999999e-002, +1.8124999999999999e-002],
    [+1.3580000000000000e-002, +1.9694000000000000e-002],
    [+1.6017000000000000e-002, +2.1281000000000001e-002],
    [+1.8714000000000001e-002, +2.2882000000000000e-002],
    [+2.1683000000000001e-002, +2.4494999999999999e-002],
    [+2.4936000000000000e-002, +2.6116000000000000e-002],
    [+2.8482000000000000e-002, +2.7744000000000001e-002],
    [+3.2333000000000001e-002, +2.9373000000000000e-002],
    [+3.6498999999999997e-002, +3.1001000000000001e-002],
    [+4.0987999999999997e-002, +3.2624000000000000e-002],
    [+4.5809999999999997e-002, +3.4237999999999998e-002],
    [+5.0973999999999998e-002, +3.5839999999999997e-002],
    [+5.6487000000000002e-002, +3.7425000000000000e-002],
    [+6.2356000000000002e-002, +3.8989999999999997e-002],
    [+6.8587999999999996e-002, +4.0529999999999997e-002],
    [+7.5189000000000006e-002, +4.2041000000000002e-002],
    [+8.2165000000000002e-002, +4.3519000000000002e-002],
    [+8.9519000000000001e-002, +4.4958999999999999e-002],
    [+9.7255999999999995e-002, +4.6358000000000003e-002],
    [+1.0538000000000000e-001, +4.7711000000000003e-002],
    [+1.1389000000000001e-001, +4.9013000000000001e-002],
    [+1.2279000000000000e-001, +5.0261000000000000e-002],
    [+1.3208000000000000e-001, +5.1450000000000003e-002],
    [+1.4176000000000000e-001, +5.2575999999999998e-002],
    [+1.5182999999999999e-001, +5.3636000000000003e-002],
    [+1.6228999999999999e-001, +5.4625000000000000e-002],
    [+1.7313000000000001e-001, +5.5539999999999999e-002],
    [+1.8435000000000001e-001, +5.6377999999999998e-002],
    [+1.9595000000000001e-001, +5.7135999999999999e-002],
    [+2.0791999999999999e-001, +5.7810000000000000e-002],
    [+2.2026000000000001e-001, +5.8397999999999999e-002],
    [+2.3296000000000000e-001, +5.8896999999999998e-002],
    [+2.4601000000000001e-001, +5.9306999999999999e-002],
    [+2.5940000000000002e-001, +5.9624999999999997e-002],
    [+2.7312999999999998e-001, +5.9850000000000000e-002],
    [+2.8717999999999999e-001, +5.9979999999999999e-002],
    [+3.0153000000000002e-001, +6.0017000000000001e-002],
    [+3.1619999999999998e-001, +5.9957999999999997e-002],
    [+3.3115000000000000e-001, +5.9804999999999997e-002],
    [+3.4637000000000001e-001, +5.9558000000000000e-002],
    [+3.6185000000000000e-001, +5.9218000000000000e-002],
    [+3.7758000000000003e-001, +5.8785999999999998e-002],
    [+3.9354000000000000e-001, +5.8264000000000003e-002],
    [+4.0971999999999997e-001, +5.7653999999999997e-002],
    [+4.2609000000000002e-001, +5.6958000000000002e-002],
    [+4.4263999999999998e-001, +5.6177999999999999e-002],
    [+4.5934999999999998e-001, +5.5316999999999998e-002],
    [+4.7621000000000002e-001, +5.4378000000000003e-002],
    [+4.9319000000000002e-001, +5.3365000000000003e-002],
    [+5.1027000000000000e-001, +5.2280000000000000e-002],
    [+5.2744000000000002e-001, +5.1128000000000000e-002],
    [+5.4468000000000005e-001, +4.9911999999999998e-002],
    [+5.6194999999999995e-001, +4.8634999999999998e-002],
    [+5.7925000000000004e-001, +4.7301999999999997e-002],
    [+5.9655000000000002e-001, +4.5915999999999998e-002],
    [+6.1382000000000003e-001, +4.4482000000000001e-002],
    [+6.3105999999999995e-001, +4.3004000000000001e-002],
    [+6.4822000000000002e-001, +4.1485000000000001e-002],
    [+6.6530000000000000e-001, +3.9928999999999999e-002],
    [+6.8227000000000004e-001, +3.8342000000000001e-002],
    [+6.9910000000000005e-001, +3.6726000000000002e-002],
    [+7.1577999999999997e-001, +3.5085999999999999e-002],
    [+7.3228000000000004e-001, +3.3426999999999998e-002],
    [+7.4858000000000002e-001, +3.1751000000000001e-002],
    [+7.6465000000000005e-001, +3.0062999999999999e-002],
    [+7.8047999999999995e-001, +2.8368000000000001e-002],
    [+7.9605000000000004e-001, +2.6668000000000001e-002],
    [+8.1132000000000004e-001, +2.4969000000000002e-002],
    [+8.2628000000000001e-001, +2.3274000000000000e-002],
    [+8.4091000000000005e-001, +2.1588000000000000e-002],
    [+8.5518000000000005e-001, +1.9914999999999999e-002],
    [+8.6907999999999996e-001, +1.8258000000000000e-002],
    [+8.8258999999999999e-001, +1.6622999999999999e-002],
    [+8.9568999999999999e-001, +1.5013000000000000e-002],
    [+9.0834999999999999e-001, +1.3433000000000000e-002],
    [+9.2056000000000004e-001, +1.1886000000000001e-002],
    [+9.3230000000000002e-001, +1.0378999999999999e-002],
    [+9.4355999999999995e-001, +8.9133000000000007e-003],
    [+9.5430999999999999e-001, +7.3866000000000001e-003],
    [+9.6453999999999995e-001, +5.7619000000000004e-003],
    [+9.7423999999999999e-001, +4.2063999999999999e-003],
    [+9.8340000000000005e-001, +2.7246000000000002e-003],
    [+9.9199000000000004e-001, +1.3209999999999999e-003],
]

points = []
for x, y in coordinates:
    points.append(gmsh.model.geo.add_point(x, y, 0.0, lc2))

lower_surface = gmsh.model.geo.add_spline(points[0:85])
leading_edge = gmsh.model.geo.add_spline(points[85-1:85+25])
upper_surface = gmsh.model.geo.add_spline(points[85+25-1:] + [points[0]])

outside_loop = gmsh.model.geo.add_curve_loop([line_a, line_b, line_c, line_d])
inside_loop = gmsh.model.geo.add_curve_loop([lower_surface, leading_edge, upper_surface])
gmsh.model.geo.add_plane_surface([outside_loop, inside_loop])

gmsh.model.geo.add_physical_group(
    1, [upper_surface, leading_edge, lower_surface], name="wall"
)

gmsh.model.geo.add_physical_group(
    1, [line_d], name="inflow"
)

gmsh.model.geo.add_physical_group(
    1, [line_a, line_b, line_c], name="outflow"
)

gmsh.model.geo.synchronize()
gmsh.model.mesh.generate(2)
# gmsh.fltk.run()
gmsh.write("grid.su2")
gmsh.finalize()
